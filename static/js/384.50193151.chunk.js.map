{"version":3,"file":"static/js/384.50193151.chunk.js","mappings":"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","sources":["config/amplify/amplify.config.ts","config/amplify/authenticate.config.ts","containers/Members/index.tsx"],"sourcesContent":["export const amplifyConfig = {\n  s3: {\n    REGION: \"eu-west-1\",\n    BUCKET: \"cognito-boilerplate-dev-databucket\t\",\n  },\n  apiGateway: {\n    REGION: \"eu-west-1\",\n    URL: \"https://https://02fpavbitf.execute-api.eu-west-1.amazonaws.com/dev.execute-api.eu-west-1.amazonaws.com/dev\",\n  },\n  cognito: {\n    REGION: \"eu-west-1\",\n    USER_POOL_ID: \"eu-west-1_GbjE92ghG\t\",\n    APP_CLIENT_ID: \"19uogvld04o5tpj0f11pmc9jes\t\",\n    IDENTITY_POOL_ID: \"eu-west-1:78cfc9d8-7217-49a2-8f82-08ef34604e84\",\n  },\n};\n","export const authenticateConfig = {\n  formFields: {\n    signUp: {\n      email: {\n        order: 1,\n        isRequired: true,\n      },\n      name: {\n        label: \"First Name\",\n        placeholder: \"First Name\",\n        order: 2,\n        isRequired: true,\n        type: \"string\",\n      },\n      family_name: {\n        label: \"Last Name\",\n        placeholder: \"Last Name\",\n        order: 3,\n        isRequired: true,\n        type: \"string\",\n      },\n      username: {\n        order: 4,\n        isRequired: true,\n        type: \"string\",\n      },\n      phone_number: {\n        order: 5,\n        dialCode: \"+977\",\n        isRequired: true,\n        type: \"tel\",\n      },\n      gender: {\n        label: \"Gender\",\n        placeholder: \"Male\",\n        order: 6,\n        isRequired: true,\n        type: \"string\",\n      },\n      birthdate: {\n        label: \"Birthday\",\n        order: 7,\n        isRequired: true,\n        type: \"date\",\n      },\n      password: {\n        order: 8,\n      },\n      confirm_password: {\n        order: 9,\n      },\n    },\n  },\n};\n","import React, { Component } from \"react\";\nimport { Amplify, Storage, Auth, API } from \"aws-amplify\";\nimport { Authenticator } from \"@aws-amplify/ui-react\";\nimport \"@aws-amplify/ui-react/styles.css\";\n\nimport \"./index.css\";\n\nimport { amplifyConfig, authenticateConfig } from \"../../config\";\n\nAmplify.configure({\n  Auth: {\n    mandatorySignIn: true,\n    region: amplifyConfig.cognito.REGION,\n    userPoolId: amplifyConfig.cognito.USER_POOL_ID,\n    identityPoolId: amplifyConfig.cognito.IDENTITY_POOL_ID,\n    userPoolWebClientId: amplifyConfig.cognito.APP_CLIENT_ID,\n  },\n  Storage: {\n    region: amplifyConfig.s3.REGION,\n    bucket: amplifyConfig.s3.BUCKET,\n    identityPoolId: amplifyConfig.cognito.IDENTITY_POOL_ID,\n  },\n  API: {\n    endpoints: [\n      {\n        name: \"api\",\n        endpoint: amplifyConfig.apiGateway.URL,\n        region: amplifyConfig.apiGateway.REGION,\n      },\n    ],\n  },\n});\n\nclass Members extends Component {\n  apiInitParams = {\n    headers: {}, // OPTIONAL\n    response: false, // OPTIONAL (return the entire Axios response object instead of only response.data)\n  };\n\n  constructor(props: any) {\n    super(props);\n\n    this.state = {\n      user: undefined,\n      userAttributes: undefined,\n      profilePic: undefined,\n    };\n\n    Storage.configure({ level: \"private\" });\n\n    this.testApi = this.testApi.bind(this);\n  }\n\n  async componentDidMount() {\n    try {\n      // const user = await Auth.currentUserInfo()\n      const user = await Auth.currentAuthenticatedUser();\n      const userAttributes = await Auth.userAttributes(user);\n      const picture = userAttributes.find((attr) => attr.Name === \"picture\");\n\n      const profilePic = picture ? await Storage.get(picture.Value) : null;\n\n      console.log(\"User\", user);\n      console.log(\"Attributes\", userAttributes);\n      console.log(\"ProfilePicture\", profilePic);\n\n      this.setState({ user, profilePic });\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  async testApi() {\n    const res = await API.get(\"api\", \"/test\", this.apiInitParams);\n    console.log(res);\n    alert(res.message);\n  }\n\n  render() {\n    return (\n      <Authenticator\n        signUpAttributes={[\n          \"email\",\n          \"name\",\n          \"family_name\",\n          \"phone_number\",\n          \"gender\",\n          \"birthdate\",\n        ]}\n        variation=\"modal\"\n        formFields={authenticateConfig.formFields}\n      >\n        {({ signOut, user }) => (\n          <div className=\"App\">\n            <header className=\"App-header\">\n              <h1 className=\"App-title\">Welcome, {user && user.username}</h1>\n              <button className=\"button\" onClick={this.testApi}>\n                Test API\n              </button>\n              <button className=\"button\" onClick={signOut}>\n                Log Out\n              </button>\n              <p className=\"App-intro\">\n                To get started, edit{\" \"}\n                <code>src/containers/Members/index.js</code> and save to reload.\n              </p>\n            </header>\n          </div>\n        )}\n      </Authenticator>\n    );\n  }\n}\n\nexport default Members;\n"],"names":["amplifyConfig","REGION","BUCKET","URL","USER_POOL_ID","APP_CLIENT_ID","IDENTITY_POOL_ID","authenticateConfig","formFields","signUp","email","order","isRequired","name","label","placeholder","type","family_name","username","phone_number","dialCode","gender","birthdate","password","confirm_password","Amplify","Auth","mandatorySignIn","region","userPoolId","identityPoolId","userPoolWebClientId","Storage","bucket","API","endpoints","endpoint","Members","props","apiInitParams","headers","response","state","user","undefined","userAttributes","profilePic","level","testApi","bind","picture","find","attr","Name","Value","console","log","this","setState","res","alert","message","Authenticator","signUpAttributes","variation","signOut","className","onClick","Component"],"sourceRoot":""}