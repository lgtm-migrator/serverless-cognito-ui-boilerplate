(self.webpackChunkserverless_cognito_ui_boilerplate=self.webpackChunkserverless_cognito_ui_boilerplate||[]).push([[384],{9380:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});var n=r(5861),s=r(5671),i=r(3144),a=r(7326),o=r(9340),u=r(8347),c=r(7757),l=r.n(c),d=r(2791),p=r(5665),m=r(2566),f=r(1124),h=r(2918),g=r(4144),b=(r(4446),{REGION:"eu-west-1",BUCKET:"cognito-boilerplate-dev-databucket\t"}),v={REGION:"eu-west-1",URL:"https://https://02fpavbitf.execute-api.eu-west-1.amazonaws.com/dev.execute-api.eu-west-1.amazonaws.com/dev"},I={REGION:"eu-west-1",USER_POOL_ID:"eu-west-1_GbjE92ghG\t",APP_CLIENT_ID:"19uogvld04o5tpj0f11pmc9jes\t",IDENTITY_POOL_ID:"eu-west-1:78cfc9d8-7217-49a2-8f82-08ef34604e84"},_={formFields:{signUp:{email:{order:1,isRequired:!0},name:{label:"First Name",placeholder:"First Name",order:2,isRequired:!0,type:"string"},family_name:{label:"Last Name",placeholder:"Last Name",order:3,isRequired:!0,type:"string"},username:{order:4,isRequired:!0,type:"string"},phone_number:{order:5,dialCode:"+977",isRequired:!0,type:"tel"},gender:{label:"Gender",placeholder:"Male",order:6,isRequired:!0,type:"string"},birthdate:{label:"Birthday",order:7,isRequired:!0,type:"date"},password:{order:8},confirm_password:{order:9}}}},N=r(184);p.dQ.configure({Auth:{mandatorySignIn:!0,region:I.REGION,userPoolId:I.USER_POOL_ID,identityPoolId:I.IDENTITY_POOL_ID,userPoolWebClientId:I.APP_CLIENT_ID},Storage:{region:b.REGION,bucket:b.BUCKET,identityPoolId:I.IDENTITY_POOL_ID},API:{endpoints:[{name:"api",endpoint:v.URL,region:v.REGION}]}});var P=function(e){(0,o.Z)(r,e);var t=(0,u.Z)(r);function r(e){var n;return(0,s.Z)(this,r),(n=t.call(this,e)).apiInitParams={headers:{},response:!1},n.state={user:void 0,userAttributes:void 0,profilePic:void 0},m.Ke.configure({level:"private"}),n.testApi=n.testApi.bind((0,a.Z)(n)),n}return(0,i.Z)(r,[{key:"componentDidMount",value:function(){var e=(0,n.Z)(l().mark((function e(){var t,r,n,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.g.currentAuthenticatedUser();case 3:return t=e.sent,e.next=6,f.g.userAttributes(t);case 6:if(r=e.sent,!(n=r.find((function(e){return"picture"===e.Name})))){e.next=14;break}return e.next=11,m.Ke.get(n.Value);case 11:e.t0=e.sent,e.next=15;break;case 14:e.t0=null;case 15:s=e.t0,console.log("User",t),console.log("Attributes",r),console.log("ProfilePicture",s),this.setState({user:t,profilePic:s}),e.next=25;break;case 22:e.prev=22,e.t1=e.catch(0),console.log(e.t1);case 25:case"end":return e.stop()}}),e,this,[[0,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"testApi",value:function(){var e=(0,n.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.b.get("api","/test",this.apiInitParams);case 2:t=e.sent,console.log(t),alert(t.message);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return(0,N.jsx)(g._,{signUpAttributes:["email","name","family_name","phone_number","gender","birthdate"],variation:"modal",formFields:_.formFields,children:function(t){var r=t.signOut,n=t.user;return(0,N.jsx)("div",{className:"App",children:(0,N.jsxs)("header",{className:"App-header",children:[(0,N.jsxs)("h1",{className:"App-title",children:["Welcome, ",n&&n.username]}),(0,N.jsx)("button",{className:"button",onClick:e.testApi,children:"Test API"}),(0,N.jsx)("button",{className:"button",onClick:r,children:"Log Out"}),(0,N.jsxs)("p",{className:"App-intro",children:["To get started, edit"," ",(0,N.jsx)("code",{children:"src/containers/Members/index.js"})," and save to reload."]})]})})}})}}]),r}(d.Component),x=P},2480:function(){}}]);
//# sourceMappingURL=384.50193151.chunk.js.map